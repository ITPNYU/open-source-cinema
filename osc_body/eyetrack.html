<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <title>Webgazer.js + D3.js collision demo</title>
</head>
<body>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="./eyeTrack/webgazer.js"></script>

  <script>

  const collisionSVG = "collisionSVG";
  var force = [];
  var nodes = [];

  window.onload = function() {

    var localstorageLabel = 'webgazerGlobalData';
    window.localStorage.setItem(localstorageLabel, null);

    webgazer.setRegression('ridge') /* currently must set regression and tracker */
    .setTracker('clmtrackr')
    .begin()
    .showPredictionPoints(true); /* shows a square every 100 milliseconds where current prediction is */

    function checkIfReady() {
      var feedbackBox = document.getElementById( webgazer.params.faceFeedbackBoxId );
      
      
      if (!webgazer.isReady()) {
        setTimeout(checkIfReady, 100);
      }
      // This isn't strictly necessary, but it makes the DOM easier to read
      // to have the z draw order reflect the DOM order.
      else if( typeof(feedbackBox) == 'undefined' || feedbackBox == null ) {
        setTimeout(checkIfReady, 100);
      }
      else
      {
        // Add the SVG component on the top of everything.
        //setupCollisionSystem();
        webgazer.setGazeListener( collisionEyeListener );

      }
    }

    setTimeout(checkIfReady,100);
  };


  var collisionEyeListener = function(data, clock) {
    if(!data)
      return;

  }

  </script>
</body>
